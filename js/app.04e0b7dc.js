(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],d=0,v=[];d<i.length;d++)o=i[d],n[o]&&v.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("1356"),n=r.n(a);n.a},1356:function(t,e,r){},"2a30":function(t,e,r){},3450:function(t,e,r){},3666:function(t,e,r){"use strict";r.r(e),r.d(e,"db",function(){return o}),r.d(e,"auth",function(){return i}),r.d(e,"currentUser",function(){return l}),r.d(e,"usersCollection",function(){return c}),r.d(e,"showsCollection",function(){return u}),r.d(e,"reviewsCollection",function(){return d});var a=r("8aa5"),n=r.n(a),s=(r("e71f"),{apiKey:"AIzaSyBwU70IW6keooAPok4CNBuJdlIsD0kdcy0",authDomain:"movie-time-0.firebaseapp.com",databaseURL:"https://movie-time-0.firebaseio.com",projectId:"movie-time-0",storageBucket:"movie-time-0.appspot.com",messagingSenderId:"891751693891"});n.a.initializeApp(s);var o=n.a.database(),i=n.a.auth(),l=i.currentUser,c=o.ref("users"),u=o.ref("shows"),d=o.ref("reviews")},"3f35":function(t,e,r){"use strict";var a=r("ca2b"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("bb71");r("da64");a["a"].use(n["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[r("v-toolbar",{attrs:{dark:"",tabs:""},scopedSlots:t._u([{key:"extension",fn:function(){return[r("v-tabs",{attrs:{color:"transparent",centered:""},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[r("v-tab",{key:0,attrs:{href:"#tab-discover"}},[t._v("Discover")]),r("v-tab",{key:1,attrs:{href:"#tab-show"}},[t._v("Show details")])],1)]},proxy:!0}])},[r("v-toolbar-side-icon"),r("v-toolbar-title",[t._v("Movie Time")]),r("v-spacer"),t.currentUser?r("v-btn",{on:{click:t.onLogoutClick}},[t._v("Logout")]):[r("v-btn",{on:{click:function(e){t.signupDialog=!0}}},[t._v("Signup")]),r("v-btn",{on:{click:function(e){t.loginDialog=!0}}},[t._v("login")])],r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("more_vert")])],1)],2),r("div",{staticClass:"tab-body"},[r("v-tabs-items",{model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[r("v-tab-item",{key:0,staticClass:"discover-tab",attrs:{value:"tab-discover"}},[r("discover",{attrs:{userShows:t.userShows,currentUser:t.currentUser},on:{showClick:t.onShowClick}})],1),r("v-tab-item",{key:1,staticClass:"show-tab",attrs:{lazy:"",value:"tab-show"}},[r("show",{attrs:{currentUser:t.currentUser,userShows:t.userShows,showId:t.showId}})],1)],1)],1),t.signupDialog?r("signup-form",{attrs:{openDialog:t.signupDialog},on:{"update:dialogClose":function(e){t.signupDialog=!1},"update:currentUser":t.onLogin}}):t._e(),t.loginDialog?r("login-form",{attrs:{openDialog:t.loginDialog},on:{"update:dialogClose":function(e){t.loginDialog=!1},"update:currentUser":t.onLogin}}):t._e()],1)},o=[],i=(r("ac6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",[r("v-card",{attrs:{dark:""}},[r("v-card-text",[r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:""}})],1)],1)],1):r("div",[r("shows",{attrs:{userShows:t.userShows,currentUser:t.currentUser,shows:t.pageShows},on:{showClick:function(e){return t.$emit("showClick",e)}}}),r("v-pagination",{staticClass:"pagination",attrs:{dark:"",length:t.totalPages,"total-visible":t.$vuetify.breakpoint.smAndDown?5:10},on:{input:t.getPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])}),l=[],c=(r("7514"),r("cebc")),u=r("d225"),d=r("b0b4"),v={tmdb_key:"b126f5fe06990a5ed0ca90867b2251b3"},f=function(){function t(e){Object(u["a"])(this,t),this.tmdb_key=e,this.baseUrl="https://api.themoviedb.org/3/"}return Object(d["a"])(t,[{key:"fetchAPI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={api_key:this.tmdb_key},a=this.baseUrl+t,n=new URL(a);return n.search=new URLSearchParams(Object(c["a"])({},r,e)),fetch(n).then(function(t){return t.json()})}},{key:"discover",value:function(t){var e="discover/movie";return this.fetchAPI(e,t)}},{key:"getShow",value:function(t){var e="movie/"+t;return this.fetchAPI(e)}}]),t}(),h=new f(v.tmdb_key),p={tmdb:h},m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.shows.length?r("posters-grid",{attrs:{postersList:t.shows},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,n=e.index;return[r("poster-box",{key:"box"+n,staticClass:"px-4"},[r("poster",{attrs:{currentUser:t.currentUser,userShows:t.userShows,id:a.id,name:a.title,rate:a.vote_average,vote:a.vote_count,tags:a.tags,date:t.formateDate(a.release_date),path:"https://image.tmdb.org/t/p/w500"+a.poster_path,lazyPath:"https://image.tmdb.org/t/p/w92"+a.poster_path},nativeOn:{click:function(e){return t.$emit("showClick",a.id)}}})],1)]}}],null,!1,1392451212)}):t._e()},g=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"poster-grid mx-1 pt-2"},[t._l(t.postersList,function(e,r){return[t._t("default",null,{item:e,index:r})]})],2)},b=[],_={props:{postersList:Array},components:{},data:function(){return{}},methods:{}},x=_,y=(r("5a14"),r("2877")),C=Object(y["a"])(x,w,b,!1,null,null,null),S=C.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{staticClass:"posterBox my-2 px-2",attrs:{xs6:"",sm5:"",md4:"",lg3:"",xl2:""}},[t._t("default")],2)},V=[],I={props:{},methods:{}},U=I,P=r("6544"),j=r.n(P),T=r("0e8f"),O=Object(y["a"])(U,k,V,!1,null,null,null),D=O.exports;j()(O,{VFlex:T["a"]});var A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"poster flex hoverGrow",class:{hoverGrowActive:t.activePoster,displayInfo:t.$vuetify.breakpoint.smAndDown}},[r("v-img",{ref:"img",staticClass:"posterImg round elevation-24 z-depth-3 hoverable",attrs:{imgId:t.id,src:t.path,"lazy-src":t.lazyPath},on:{mousedown:t.onMousedown,mouseup:t.onMouseup},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])}),r("div",{staticClass:"info-gradient-background poster-info-box"},[[[r("div",{staticClass:"dark-transparent"},[t._v(t._s(t.name))])],r("div",{staticClass:"flex"},[t.date?[r("div",{},[r("v-icon",{attrs:{small:"",color:"red"}},[t._v("date_range")]),t._v("\n            "+t._s(t.date)+"\n          ")],1)]:t._e(),t.rate?[r("div",[r("v-icon",{attrs:{small:"",color:"yellow"}},[t._v("star")]),t._v("\n            "+t._s(t.rate)+"\n          ")],1)]:t._e()],2)]],2),r("div",{staticClass:"poster-top-bar"},[t.currentUser?r("v-btn",{staticClass:"m-0 p-0",attrs:{small:"",fab:"",icon:"",color:"white"},on:{click:function(e){return e.stopPropagation(),t.onFavClick(e)}}},[r("v-icon",{attrs:{color:t.isFavorite?"red":"black"}},[t._v(t._s(t.isFavorite?"favorite":"favorite_border"))])],1):t._e()],1)],1)},$=[],L=(r("c5f6"),r("3666")),R={components:{},props:{id:Number,path:String,lazyPath:String,name:String,rate:Number,vote:Number,date:String,currentUser:Object,userShows:Array},data:function(){return{activePoster:!1}},computed:{userShow:function(){var t=this,e=this.userShows.find(function(e){return e.val().id==t.id&&e.val().userId==t.currentUser.userId});return e||null},isFavorite:function(){return!!this.userShow&&this.userShow.val().favorite}},methods:{onFavClick:function(){this.userShow?this.userShow.getRef().update({favorite:!this.isFavorite}):L.db.ref("/shows/").push({id:this.id,favorite:!0,userId:this.currentUser.userId}).then(function(){})},onMousedown:function(t){this.activePoster=!0},onMouseup:function(t){this.activePoster=!1}}},E=R,F=(r("ac2e"),r("8336")),B=r("132d"),z=r("adda"),N=r("a722"),M=r("490a"),W=Object(y["a"])(E,A,$,!1,null,null,null),q=W.exports;j()(W,{VBtn:F["a"],VIcon:B["a"],VImg:z["a"],VLayout:N["a"],VProgressCircular:M["a"]});var G={props:{shows:Array,currentUser:Object,userShows:Array},components:{PostersGrid:S,PosterBox:D,Poster:q},methods:{formateDate:function(t){try{return t.slice(0,4)}catch(e){return null}}},computed:{}},J=G,H=Object(y["a"])(J,m,g,!1,null,null,null),K=H.exports,Q={components:{Shows:K},props:{currentUser:Object,userShows:Array},data:function(){return{shows:[],page:1,totalPages:1,loading:!0}},computed:{pageShows:function(){var t=this,e=this.shows.find(function(e){return e.page==t.page});return e?e.results:[]}},methods:{getPage:function(t){var e=this;this.loading=!0;var r=null;t?(this.page=t,r=this.shows.find(function(t){return t.page==e.page})):t=1,r?this.loading=!1:p.tmdb.discover({page:t}).then(function(t){e.shows.push(t),e.totalPages=t.total_pages}).finally(function(){e.loading=!1})}},created:function(){this.getPage()}},X=Q,Y=(r("b47c"),r("b0af")),Z=r("99d9"),tt=r("891e"),et=r("8e36"),rt=Object(y["a"])(X,i,l,!1,null,null,null),at=rt.exports;j()(rt,{VCard:Y["a"],VCardText:Z["b"],VPagination:tt["a"],VProgressLinear:et["a"]});var nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showId?r("div",{staticClass:"showPage"},[t.loading?r("div",[r("v-card",{attrs:{dark:""}},[r("v-card-text",[r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:""}})],1)],1)],1):r("v-container",{staticClass:"bg-black",attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("div",{staticClass:"flex flex-row w-full h-auto z-10 flex-wrap"},[r("show-page-info-bar",{attrs:{title:t.mainShow.title,release_date:t.mainShow.release_date,vote_average:t.mainShow.vote_average,runtime:t.mainShow.runtime,genres:t.mainShow.genres}}),r("show-page-main-info",{attrs:{mainShow:t.mainShow}}),r("v-flex",{attrs:{xs12:"","px-3":""}},[r("show-reviews",{attrs:{showId:t.mainShow.id,currentUser:t.currentUser,userShows:t.userShows}}),t._v(">\n          ")],1)],1)])],1)],1):r("div",[r("v-alert",{attrs:{value:!0,type:"error"}},[t._v("Click on show from Discover tab to view its details")])],1)])},st=[],ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex infoBar"},[r("span",{staticClass:"show-title"},[t._v(t._s(t.title))]),r("v-chip",{staticClass:"flex",attrs:{color:"rgba(255,0,0,0.25)","text-color":"white"}},[r("div",{},[r("v-icon",{attrs:{color:"red"}},[t._v("date_range")])],1),r("div",[t._v(t._s(t.release_date.slice(0,4)))])]),t.vote_average?[r("v-chip",{staticClass:"flex flex-none w-auto justify-between",attrs:{color:"rgba(255,255,0,0.2)","text-color":"white"}},[r("div",{staticClass:"-ml-2"},[r("v-icon",{attrs:{color:"yellow"}},[t._v("star")])],1),r("div",[t._v(t._s(t.vote_average))])])]:t._e(),t.runtime?[r("v-chip",{staticClass:"flex flex-none w-auto justify-between",attrs:{color:"rgba(0,255,0,0.2)","text-color":"white"}},[r("div",{staticClass:"-ml-2"},[r("v-icon",{attrs:{color:"green"}},[t._v("access_alarm")])],1),r("div",[t._v(t._s(t.runtime))])])]:t._e(),t._l(t.genres,function(e,a){return[r("v-hover",{key:a,scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return r("div",{staticClass:"genre"},[r("v-chip",{staticClass:"cursor-pointer",attrs:{label:"",outline:!n}},[t._v(t._s(e.name))])],1)}}],null,!0)})]})],2)},it=[],lt={props:{title:String,release_date:String,vote_average:Number,runtime:Number,genres:Array}},ct=lt,ut=(r("9a2e"),r("cc20")),dt=r("ce87"),vt=Object(y["a"])(ct,ot,it,!1,null,null,null),ft=vt.exports;j()(vt,{VChip:ut["a"],VHover:dt["a"],VIcon:B["a"]});var ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"info-section",attrs:{"mt-2":"","mx-3":"",row:"",wrap:""}},[r("v-flex",{staticClass:"flex-col",attrs:{xs12:"",sm4:"",md3:""}},[r("v-img",{staticClass:"round z-depth-3",attrs:{src:"https://image.tmdb.org/t/p/w500"+t.mainShow.poster_path,"lazy-src":"https://image.tmdb.org/t/p/w92"+t.mainShow.poster_path},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1),r("v-flex",{staticClass:"px-2 flex-col",attrs:{xs12:"",sm8:"",md9:""}},[r("v-img",{ref:"showBackdrop",staticClass:"showBackdrop",attrs:{src:"https://image.tmdb.org/t/p/w1280"+t.mainShow.backdrop_path,"lazy-src":"https://image.tmdb.org/t/p/w300"+t.mainShow.backdrop_path},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])},[t.mainShow.overview?r("div",{staticClass:"round transparent-background overview"},[r("div",{staticClass:"vertical-divider-title-ltr text-start text-3xl"},[t._v("overview:")]),r("div",{staticClass:"text-start text-xl"},[t._v(t._s(t.mainShow.overview))])]):t._e()]),r("div",{staticClass:"flex flex-col w-full md:mx-3 mt-2 bg-black"})],1)],1)},pt=[],mt={components:{},props:{mainShow:Object},methods:{currencyFormatter:function(t){if(!t)return null;var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return e.format(t)}},computed:{}},gt=mt,wt=(r("dfc4"),Object(y["a"])(gt,ht,pt,!1,null,null,null)),bt=wt.exports;j()(wt,{VFlex:T["a"],VImg:z["a"],VLayout:N["a"],VProgressCircular:M["a"]});var _t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.currentUser?r("v-timeline",{attrs:{dense:"","align-top":""}},[t.userReview?t._e():r("v-timeline-item",{attrs:{color:"blue","fill-dot":""}},[r("v-card",{attrs:{color:"blue"}},[r("v-card-title",{staticClass:"title"},[r("v-icon",[t._v("add_comment")]),t._v("Add Review\r\n        ")],1),r("v-card-text",{staticClass:"white text--black"},[r("v-textarea",{attrs:{light:"",solo:"",name:"input-7-4",label:"Solo textarea"},model:{value:t.f_review,callback:function(e){t.f_review=e},expression:"f_review"}}),r("v-btn",{staticClass:"mx-0",attrs:{color:"blue",outline:""},on:{click:t.onAddReviewClick}},[t._v("Add")])],1)],1)],1),t._l(t.showsWithReview,function(e,a){return r("v-timeline-item",{key:a,attrs:{color:"grey darken-3","fill-dot":""}},[r("review",{attrs:{showWithReview:e,userId:t.currentUser.userId}})],1)})],2):t._e()],1)},xt=[],yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",{staticClass:"title"},[t._v("Review")]),r("v-card-text",{staticClass:"white review-body"},[r("p",[t._v(t._s(t.showWithReview.val().review))]),t.userId==t.showWithReview.val().userId?[r("v-btn",{attrs:{color:"red",outline:"",icon:""},on:{click:t.onDeleteClick}},[r("v-icon",[t._v("delete")])],1)]:t._e()],2)],1)},Ct=[],St={props:{showWithReview:Object,userId:String},data:function(){return{}},methods:{onDeleteClick:function(){this.showWithReview.getRef().update({review:""})}}},kt=St,Vt=r("12b2"),It=Object(y["a"])(kt,yt,Ct,!1,null,null,null),Ut=It.exports;j()(It,{VBtn:F["a"],VCard:Y["a"],VCardText:Z["b"],VCardTitle:Vt["a"],VIcon:B["a"]});var Pt=r("3666"),jt={components:{Review:Ut},props:{userShows:Array,currentUser:Object,showId:Number},data:function(){return{f_review:""}},computed:{showsWithReview:function(){var t=this,e=[];return this.userShows.forEach(function(r){r.val().review&&r.val().id==t.showId&&e.push(r)}),e},userShow:function(){var t=this;if(!this.currentUser)return null;var e=this.userShows.find(function(e){return e.val().id==t.showId&&e.val().userId==t.currentUser.userId});return e||null},userReview:function(){return this.userShow?this.userShow.val().review:null}},methods:{onAddReviewClick:function(){this.userShow?this.userShow.getRef().update({review:this.f_review}):Pt.db.ref("/shows/").push({id:this.showId,review:this.f_review,userId:this.currentUser.userId}).then(function(){})}}},Tt=jt,Ot=(r("6fb1"),r("a844")),Dt=r("8414"),At=r("1e06"),$t=Object(y["a"])(Tt,_t,xt,!1,null,null,null),Lt=$t.exports;j()($t,{VBtn:F["a"],VCard:Y["a"],VCardText:Z["b"],VCardTitle:Vt["a"],VIcon:B["a"],VTextarea:Ot["a"],VTimeline:Dt["a"],VTimelineItem:At["a"]});var Rt={components:{Poster:q,ShowReviews:Lt,ShowPageInfoBar:ft,ShowPageMainInfo:bt},props:{showId:Number,userShows:Array,currentUser:Object},data:function(){return{loading:!0,mainShow:{}}},methods:{fetchShow:function(t){var e=this;this.loading=!0,p.tmdb.getShow(t).then(function(t){e.mainShow=t}).finally(function(){e.loading=!1})}},created:function(){this.fetchShow(this.showId)},watch:{showId:function(t){this.fetchShow(t)}}},Et=Rt,Ft=(r("3f35"),r("0798")),Bt=r("a5238"),zt=Object(y["a"])(Et,nt,st,!1,null,null,null),Nt=zt.exports;j()(zt,{VAlert:Ft["a"],VCard:Y["a"],VCardText:Z["b"],VContainer:Bt["a"],VFlex:T["a"],VLayout:N["a"],VProgressLinear:et["a"]});var Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{color:"primary",dark:""}},a),[t._v("Open Dialog")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Signup")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-text-field",{attrs:{label:"name*",required:""},model:{value:t.f_name,callback:function(e){t.f_name=e},expression:"f_name"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Email*",required:""},model:{value:t.f_email,callback:function(e){t.f_email=e},expression:"f_email"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Password*",type:"password",required:""},model:{value:t.f_password,callback:function(e){t.f_password=e},expression:"f_password"}})],1)],1)],1),r("small",[t._v("*indicates required field")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",loading:t.loading,flat:""},on:{click:t.signup}},[t._v("Signup")])],1)],1)],1)],1)},Wt=[],qt=r("3666"),Gt={props:{openDialog:Boolean},data:function(){return{f_name:"",f_email:"",f_password:"",loading:!1}},methods:{signup:function(){var t=this;this.loading=!0,qt.auth.createUserWithEmailAndPassword(this.f_email,this.f_password).then(function(e){t.$emit("update:currentUser",e),qt.db.ref("/users/"+e.user.uid).set({userName:t.f_name}).then(function(e){t.loading=!1,t.$emit("update:dialogClose",!1)})}).catch(function(t){console.log(t)})}},computed:{dialog:{get:function(){return this.openDialog},set:function(t){0==t&&this.$emit("update:dialogClose",!1)}}}},Jt=Gt,Ht=r("169a"),Kt=r("9910"),Qt=r("2677"),Xt=Object(y["a"])(Jt,Mt,Wt,!1,null,null,null),Yt=Xt.exports;j()(Xt,{VBtn:F["a"],VCard:Y["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:Vt["a"],VContainer:Bt["a"],VDialog:Ht["a"],VFlex:T["a"],VLayout:N["a"],VSpacer:Kt["a"],VTextField:Qt["a"]});var Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Login")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Email*",required:""},model:{value:t.f_email,callback:function(e){t.f_email=e},expression:"f_email"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Password*",type:"password",required:""},model:{value:t.f_password,callback:function(e){t.f_password=e},expression:"f_password"}})],1)],1)],1),r("small",[t._v("*indicates required field")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",loading:t.loading,flat:""},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)},te=[],ee=r("3666"),re={props:{openDialog:Boolean},data:function(){return{f_email:"",f_password:"",loading:!1}},methods:{login:function(){var t=this;this.loading=!0,ee.auth.signInWithEmailAndPassword(this.f_email,this.f_password).then(function(e){t.loading=!1,t.$emit("update:dialogClose",!1),t.$emit("update:currentUser",e)}).catch(function(t){t.code,t.message}).catch(function(t){console.log(t)})}},computed:{dialog:{get:function(){return this.openDialog},set:function(t){0==t&&this.$emit("update:dialogClose",!1)}}}},ae=re,ne=Object(y["a"])(ae,Zt,te,!1,null,null,null),se=ne.exports;j()(ne,{VBtn:F["a"],VCard:Y["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:Vt["a"],VContainer:Bt["a"],VDialog:Ht["a"],VFlex:T["a"],VLayout:N["a"],VSpacer:Kt["a"],VTextField:Qt["a"]});var oe=r("3666"),ie={name:"App",components:{Discover:at,Show:Nt,SignupForm:Yt,LoginForm:se},data:function(){return{selectedTab:"tab-discover",showId:null,signupDialog:!1,loginDialog:!1,currentUser:null,userShows:[]}},methods:{onShowClick:function(t){this.showId=t,this.selectedTab="tab-show"},onLogoutClick:function(){var t=this;oe.auth.signOut().then(function(){t.currentUser=null},function(t){})},onLogin:function(t){this.setCurrentUser(t.user.uid)},setCurrentUser:function(t){var e=this;oe.usersCollection.on("value",function(r){var a=r.val();a[t]?e.currentUser={userName:a[t].userName,userId:t}:e.currentUser=null},function(t){console.log("The read failed: "+t.code)})}},computed:{},created:function(){var t=this;oe.auth.onAuthStateChanged(function(e){t.this.setCurrentUser(e.uid)});var e=oe.auth.currentUser.uid;e?this.setCurrentUser(e):this.currentUser=null,oe.showsCollection.on("value",function(e){var r=[];e.forEach(function(t){r.push(t)}),t.userShows=r})}},le=ie,ce=(r("034f"),r("7496")),ue=r("71a3"),de=r("c671"),ve=r("fe57"),fe=r("aac8"),he=r("71d9"),pe=r("706c"),me=r("2a7f"),ge=Object(y["a"])(le,s,o,!1,null,null,null),we=ge.exports;j()(ge,{VApp:ce["a"],VBtn:F["a"],VIcon:B["a"],VSpacer:Kt["a"],VTab:ue["a"],VTabItem:de["a"],VTabs:ve["a"],VTabsItems:fe["a"],VToolbar:he["a"],VToolbarSideIcon:pe["a"],VToolbarTitle:me["a"]});var be,_e=r("3666");a["a"].config.productionTip=!1,_e.auth.onAuthStateChanged(function(t){be||(be=new a["a"]({el:"#app",render:function(t){return t(we)}}))})},"5a14":function(t,e,r){"use strict";var a=r("3450"),n=r.n(a);n.a},"6fb1":function(t,e,r){"use strict";var a=r("e693"),n=r.n(a);n.a},"96b7":function(t,e,r){},"999e":function(t,e,r){},"9a2e":function(t,e,r){"use strict";var a=r("2a30"),n=r.n(a);n.a},ac2e:function(t,e,r){"use strict";var a=r("999e"),n=r.n(a);n.a},b47c:function(t,e,r){"use strict";var a=r("96b7"),n=r.n(a);n.a},ca2b:function(t,e,r){},dfc4:function(t,e,r){"use strict";var a=r("f5a7"),n=r.n(a);n.a},e693:function(t,e,r){},f5a7:function(t,e,r){}});
//# sourceMappingURL=app.04e0b7dc.js.map